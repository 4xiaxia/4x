# ========================================
# AIClient-2-API 环境变量配置示例
# ========================================
# 使用说明：
# 1. 复制此文件为 .env: cp .env.example .env
# 2. 根据实际情况修改配置值
# 3. 确保 .env 文件不会被提交到版本控制（已在 .gitignore 中）
# ========================================

# ========================================
# 🔐 认证和安全配置
# ========================================

# 登录密码（必需）
# 如果未设置，系统将尝试从 configs/pwd 文件读取
# 生产环境建议使用强密码（至少16位，包含大小写字母、数字和特殊字符）
# 示例: MySecureP@ssw0rd!2024
DEFAULT_PASSWORD=

# API 访问密钥（可选）
# 如果设置了此项，API 请求需要在请求头中包含此密钥
# 通过 X-API-Key 头传递
# 示例: sk-xxxxxxxxxxxxxxxxxxxxx
REQUIRED_API_KEY=

# 允许的 CORS 来源（可选，逗号分隔）
# 用于限制允许访问此 API 的域名，增强安全性
# 使用 * 表示允许所有来源（默认值，生产环境建议明确指定）
# 示例: https://yourdomain.com,https://app.yourdomain.com
ALLOWED_ORIGINS=*

# ========================================
# 🌐 服务器配置
# ========================================

# 服务监听端口（默认: 3000）
# 服务器启动时监听的端口号
# 确保防火墙允许此端口入站流量
SERVER_PORT=3000

# 服务器监听地址（默认: 0.0.0.0）
# 0.0.0.0 表示监听所有网络接口
# 生产环境建议使用具体 IP 地址以增强安全性
SERVER_HOST=0.0.0.0

# ========================================
# 🤖 AI 模型提供商配置
# ========================================

# 默认模型提供商（可选）
# 可选值: gemini-cli-oauth, claude-kiro-oauth, openai-custom 等
DEFAULT_MODEL_PROVIDER=gemini-cli-oauth

# Google OAuth 配置（可选）
# 用于 Gemini OAuth 认证
# 在 Google Cloud Console 创建 OAuth 2.0 客户端凭证
# https://console.cloud.google.com/apis/credentials
GEMINI_OAUTH_CLIENT_ID=
GEMINI_OAUTH_CLIENT_SECRET=

# Antigravity OAuth 配置（可选）
ANTIGRAVITY_OAUTH_CLIENT_ID=
ANTIGRAVITY_OAUTH_CLIENT_SECRET=

# OpenAI API 配置（可选）
# OpenAI API 密钥：https://platform.openai.com/api-keys
OPENAI_API_KEY=
# OpenAI API 基础 URL（可使用第三方服务）
OPENAI_BASE_URL=https://api.openai.com/v1

# Claude API 配置（可选）
# Anthropic API 密钥：https://console.anthropic.com/
CLAUDE_API_KEY=
# Anthropic API 基础 URL
CLAUDE_BASE_URL=https://api.anthropic.com

# ========================================
# 🌐 代理配置
# ========================================

# HTTP 代理地址（可选）
# 用于访问需要代理的 API 服务
# 示例: http://proxy-server:port
# SOCKS5 代理: socks5://proxy-server:port
HTTP_PROXY=

# HTTPS 代理地址（可选）
# 默认与 HTTP_PROXY 相同
HTTPS_PROXY=

# 不使用代理的地址列表（可选，逗号分隔）
# 示例: localhost,127.0.0.1,.yourdomain.com
NO_PROXY=localhost,127.0.0.1

# ========================================
# 📊 日志配置
# ========================================

# 日志级别（可选，默认: info）
# 可选值: error, warn, info, debug, trace
LOG_LEVEL=info

# 日志输出模式（可选，默认: all）
# 可选值: console, file, all
LOG_OUTPUT_MODE=all

# 日志目录（可选，默认: logs）
LOG_DIR=logs

# 日志文件最大大小（可选，默认: 10485760 = 10MB）
# 单位: 字节
LOG_MAX_FILE_SIZE=10485760

# 日志文件最大数量（可选，默认: 10）
# 超过数量后会自动删除最早的日志文件
LOG_MAX_FILES=10

# ========================================
# ⚙️ 系统配置
# ========================================

# 最大请求重试次数（可选，默认: 3）
REQUEST_MAX_RETRIES=3

# 请求基础延迟（可选，默认: 1000 = 1秒）
# 单位: 毫秒
REQUEST_BASE_DELAY=1000

# 最大错误计数（可选，默认: 3）
# 节点错误超过此数量将被标记为不可用
MAX_ERROR_COUNT=3

# OAuth Token 刷新间隔（可选，默认: 60分钟）
# 单位: 分钟
CRON_NEAR_MINUTES=1

# 是否自动刷新 OAuth Token（可选，默认: false）
CRON_REFRESH_TOKEN=false

# ========================================
# 🔧 开发环境配置
# ========================================

# 开发模式（可选，默认: false）
# 开启后将显示更详细的调试信息
NODE_ENV=production

# 启用热重载（可选，仅开发环境）
# 使用 nodemon 自动重启服务
ENABLE_HOT_RELOAD=false

# ========================================
# 📦 性能配置
# ========================================

# Worker 进程重启次数限制（可选，默认: 10）
# 防止无限重启导致资源耗尽
MAX_RESTART_ATTEMPTS=10

# 请求超时时间（可选，默认: 30000 = 30秒）
# 单位: 毫秒
REQUEST_TIMEOUT=30000

# 连接池大小（可选，默认: 100）
# 同时处理的最大请求数
MAX_CONNECTIONS=100

# ========================================
# 📝 注意事项
# ========================================
#
# 1. 安全建议：
#    - 不要在代码中硬编码敏感信息
#    - 使用强密码和 API 密钥
#    - 定期轮换密钥和密码
#    - 限制 CORS 来源
#    - 生产环境关闭 DEBUG 模式
#
# 2. 部署建议：
#    - 使用环境变量而非配置文件
#    - 启用 HTTPS
#    - 配置防火墙规则
#    - 定期备份数据和配置
#    - 监控日志和性能指标
#
# 3. 性能优化：
#    - 根据服务器资源调整连接池大小
#    - 合理设置超时时间
#    - 定期清理日志文件
#    - 使用 CDN 加速静态资源
#
# 4. 监控建议：
#    - 启用健康检查
#    - 配置告警通知
#    - 监控资源使用情况
#    - 记录异常和错误日志
#
# ========================================
